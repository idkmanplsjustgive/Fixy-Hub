-- All-in-One Wind GUI Script for Roblox
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")

-- GUI Setup (Wind style)
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Roblox/Wind/main/Source.lua"))()
local Window = Library:CreateWindow("Lley And Aris Chat GPT Hub", Color3.fromRGB(128,0,128), Enum.KeyCode.RightShift)

-- Feature States
local NoclipEnabled = false
local ESPEnabled = false
local FullVisionEnabled = false
local MaxZoomEnabled = false
local RoleViewerEnabled = false
local DeadBodyESPEnabled = false

-- Tabs
local NoclipTab = Window:AddTab("Noclip")
local ESPTab = Window:AddTab("ESP")
local EnhancerTab = Window:AddTab("Game Enhancer")

-- Noclip Tab
NoclipTab:AddToggle("Enable Noclip", function(state)
    NoclipEnabled = state
    if NoclipEnabled then
        -- Noclip Loop
        spawn(function()
            while NoclipEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") do
                LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Physics)
                RunService.Heartbeat:Wait()
            end
        end)
    end
end)

-- ESP Tab
ESPTab:AddToggle("Humanoid ESP", function(state)
    ESPEnabled = state
end)

-- Game Enhancer Tab
EnhancerTab:AddToggle("Full Vision", function(state)
    FullVisionEnabled = state
    if FullVisionEnabled then
        for _, part in ipairs(Workspace:GetDescendants()) do
            if part:IsA("BasePart") then
                part.LocalTransparencyModifier = 0
            end
        end
    end
end)

EnhancerTab:AddToggle("Max Zoom", function(state)
    MaxZoomEnabled = state
    if MaxZoomEnabled then
        LocalPlayer.CameraMaxZoomDistance = 1000
    else
        LocalPlayer.CameraMaxZoomDistance = 128
    end
end)

EnhancerTab:AddToggle("Role Viewer", function(state)
    RoleViewerEnabled = state
end)

EnhancerTab:AddToggle("Dead Body ESP", function(state)
    DeadBodyESPEnabled = state
end)

-- Function to add Billboard ESP
local function AddBillboard(target, text, color, rainbow)
    if not target or not target:IsA("BasePart") then return end
    local tag = target:FindFirstChild("ESPTag")
    if tag then tag:Destroy() end

    local billboard = Instance.new("BillboardGui")
    billboard.Name = "ESPTag"
    billboard.Parent = target
    billboard.Adornee = target
    billboard.Size = UDim2.new(5,0,2,0)
    billboard.StudsOffset = Vector3.new(0,2.5,0)
    billboard.AlwaysOnTop = true

    local label = Instance.new("TextLabel")
    label.Parent = billboard
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextScaled = true
    label.TextStrokeTransparency = 0.25
    label.TextColor3 = color or Color3.new(1,1,1)

    if rainbow then
        spawn(function()
            local hue = 0
            while rainbow and label.Parent do
                hue = (hue + 0.01) % 1
                label.TextColor3 = Color3.fromHSV(hue,1,1)
                RunService.Heartbeat:Wait()
            end
        end)
    end
end

-- Dead Body Notification
local function DeadBodyNotification(playerName)
    local msg = Instance.new("Message")
    msg.Parent = Workspace
    msg.Text = "DEAD BODY!"
    delay(2, function() msg:Destroy() end)
end

-- ESP Loop
spawn(function()
    while true do
        RunService.RenderStepped:Wait()
        if ESPEnabled then
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                    AddBillboard(plr.Character.HumanoidRootPart, plr.Name, Color3.fromRGB(0,255,0))
                end
            end
        end

        if RoleViewerEnabled then
            for _, plr in pairs(Players:GetPlayers()) do
                if plr.Character and plr:FindFirstChild("PublicStates") then
                    local ps = plr.PublicStates
                    local roleVal = ps:FindFirstChild("Role")
                    local subRoleVal = ps:FindFirstChild("SubRole")
                    local color = Color3.fromRGB(255,255,255)
                    if roleVal then
                        if roleVal.Value == "Imposter" then color = Color3.fromRGB(255,0,0)
                        elseif roleVal.Value == "Neutral" then color = Color3.fromRGB(255,165,0)
                        elseif roleVal.Value == "Crewmate" then color = Color3.fromRGB(0,255,0) end
                    end
                    if plr.Character:FindFirstChild("HumanoidRootPart") then
                        local text = plr.Name .. " | " .. (roleVal and roleVal.Value or "") .. " | " .. (subRoleVal and subRoleVal.Value or "")
                        AddBillboard(plr.Character.HumanoidRootPart, text, color)
                    end
                end
            end
        end

        if DeadBodyESPEnabled then
            for _, obj in pairs(Workspace:GetDescendants()) do
                if obj.Name == "DeadBody" and obj:IsA("BasePart") then
                    AddBillboard(obj, "DEAD BODY", nil, true)
                    DeadBodyNotification(obj.Name)
                end
            end
        end
    end
end)
